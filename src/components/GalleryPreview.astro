---
/**
 * GalleryPreview — "Life at the Farm" gallery preview section for the homepage.
 * Asymmetric CSS grid of 6 placeholder images with hover effects
 * and a "View Gallery" link.
 */

const photos = [
  { bg: 'var(--color-cream-dark)' },
  { bg: 'rgba(196, 120, 91, 0.15)' },
  { bg: 'rgba(201, 169, 110, 0.18)' },
  { bg: 'var(--color-cream-dark)' },
  { bg: 'rgba(196, 120, 91, 0.10)' },
  { bg: 'rgba(201, 169, 110, 0.12)' },
];
---

<section class="gallery-preview" aria-label="Life at the Farm">
  <div class="gallery-preview-inner container">
    <h2 class="gallery-heading">Life at the Farm</h2>

    <div class="gallery-grid">
      {photos.map((photo, i) => (
        <div class={`gallery-item gallery-item--${i + 1}`}>
          <div
            class="gallery-placeholder"
            style={`background-color: ${photo.bg};`}
            aria-hidden="true"
          >
            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="placeholder-icon">
              <path d="M16 28C16 28 12 22 7 19C2 16 1 10 1 10C1 10 7 11 11 15C14 17.8 15.5 22 16 28Z" fill="currentColor" opacity="0.4" />
              <path d="M16 28C16 28 20 22 25 19C30 16 31 10 31 10C31 10 25 11 21 15C18 17.8 16.5 22 16 28Z" fill="currentColor" opacity="0.4" />
              <path d="M16 28V10" stroke="currentColor" stroke-width="1" stroke-linecap="round" opacity="0.3" />
            </svg>
            <div class="gallery-overlay"></div>
          </div>
        </div>
      ))}
    </div>

    <div class="gallery-cta">
      <a href="/gallery" class="gallery-link">
        View Gallery <span class="gallery-link-arrow" aria-hidden="true">&rarr;</span>
      </a>
    </div>
  </div>
</section>

<style>
  /* ─── Section ─── */
  .gallery-preview {
    padding: var(--space-2xl) 0;
  }

  /* ─── Heading ─── */
  .gallery-heading {
    font-family: var(--font-heading);
    font-size: clamp(var(--font-size-2xl), 3.5vw, var(--font-size-3xl));
    font-weight: 700;
    color: var(--color-charcoal);
    text-align: center;
    margin: 0 0 var(--space-xl);
  }

  /* ─── Grid Layout ─── */
  .gallery-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: auto auto;
    gap: var(--space-md);
  }

  /* Asymmetric placement:
     Item 1: spans 2 cols, 1 row  — landscape hero
     Item 2: spans 1 col, 2 rows  — tall portrait
     Item 3: spans 1 col, 1 row   — square-ish
     Item 4: spans 1 col, 1 row   — square-ish
     Item 5: spans 1 col, 1 row   — square-ish
     Item 6: spans 2 cols, 1 row  — wide landscape
  */
  .gallery-item--1 {
    grid-column: 1 / 3;
    grid-row: 1 / 2;
  }

  .gallery-item--2 {
    grid-column: 3 / 4;
    grid-row: 1 / 3;
  }

  .gallery-item--3 {
    grid-column: 4 / 5;
    grid-row: 1 / 2;
  }

  .gallery-item--4 {
    grid-column: 1 / 2;
    grid-row: 2 / 3;
  }

  .gallery-item--5 {
    grid-column: 2 / 3;
    grid-row: 2 / 3;
  }

  .gallery-item--6 {
    grid-column: 3 / 5;
    grid-row: 2 / 3;
  }

  /* ─── Placeholder Image ─── */
  .gallery-placeholder {
    position: relative;
    width: 100%;
    height: 100%;
    min-height: 180px;
    border-radius: var(--border-radius);
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    cursor: pointer;
    transition: transform var(--transition);
  }

  .gallery-item--1 .gallery-placeholder {
    aspect-ratio: 16 / 9;
  }

  .gallery-item--2 .gallery-placeholder {
    aspect-ratio: 3 / 4;
    height: 100%;
  }

  .gallery-item--3 .gallery-placeholder {
    aspect-ratio: 1 / 1;
  }

  .gallery-item--4 .gallery-placeholder {
    aspect-ratio: 1 / 1;
  }

  .gallery-item--5 .gallery-placeholder {
    aspect-ratio: 1 / 1;
  }

  .gallery-item--6 .gallery-placeholder {
    aspect-ratio: 16 / 9;
  }

  /* ─── Hover Overlay ─── */
  .gallery-overlay {
    position: absolute;
    inset: 0;
    background-color: rgba(44, 85, 48, 0.08);
    opacity: 0;
    transition: opacity var(--transition);
    border-radius: var(--border-radius);
  }

  .gallery-placeholder:hover {
    transform: scale(1.03);
  }

  .gallery-placeholder:hover .gallery-overlay {
    opacity: 1;
  }

  /* ─── CTA Link ─── */
  .gallery-cta {
    text-align: center;
    margin-top: var(--space-xl);
  }

  .gallery-link {
    display: inline-flex;
    align-items: center;
    gap: 0.4em;
    font-family: var(--font-body);
    font-size: var(--font-size-base);
    font-weight: 700;
    color: var(--color-forest);
    text-decoration: none;
    transition: color var(--transition);
  }

  .gallery-link:hover {
    color: var(--color-terracotta);
  }

  .gallery-link-arrow {
    display: inline-block;
    transition: transform var(--transition);
  }

  .gallery-link:hover .gallery-link-arrow {
    transform: translateX(4px);
  }

  /* ─── Responsive: Tablet ─── */
  @media (max-width: 1024px) {
    .gallery-grid {
      grid-template-columns: repeat(2, 1fr);
      grid-template-rows: auto auto auto;
    }

    .gallery-item--1 {
      grid-column: 1 / 3;
      grid-row: 1 / 2;
    }

    .gallery-item--2 {
      grid-column: 1 / 2;
      grid-row: 2 / 3;
    }

    .gallery-item--3 {
      grid-column: 2 / 3;
      grid-row: 2 / 3;
    }

    .gallery-item--4 {
      grid-column: 1 / 2;
      grid-row: 3 / 4;
    }

    .gallery-item--5 {
      grid-column: 2 / 3;
      grid-row: 3 / 4;
    }

    .gallery-item--6 {
      grid-column: 1 / 3;
      grid-row: 4 / 5;
    }

    .gallery-item--2 .gallery-placeholder {
      aspect-ratio: 1 / 1;
    }
  }

  /* ─── Responsive: Mobile ─── */
  @media (max-width: 600px) {
    .gallery-preview {
      padding: var(--space-xl) 0;
    }

    .gallery-grid {
      grid-template-columns: 1fr;
      grid-template-rows: auto;
    }

    .gallery-item--1,
    .gallery-item--2,
    .gallery-item--3,
    .gallery-item--4,
    .gallery-item--5,
    .gallery-item--6 {
      grid-column: 1 / -1;
      grid-row: auto;
    }

    .gallery-item--1 .gallery-placeholder,
    .gallery-item--2 .gallery-placeholder,
    .gallery-item--3 .gallery-placeholder,
    .gallery-item--4 .gallery-placeholder,
    .gallery-item--5 .gallery-placeholder,
    .gallery-item--6 .gallery-placeholder {
      aspect-ratio: 16 / 9;
      min-height: 160px;
    }
  }

  /* Respect reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    .gallery-placeholder,
    .gallery-overlay,
    .gallery-link,
    .gallery-link-arrow {
      transition: none;
    }
  }
</style>
